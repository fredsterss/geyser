// Generated by CoffeeScript 1.3.3
(function() {

  this.GeyserSite = (function() {

    GeyserSite.prototype.firebaseRef = 'https://geyser.firebaseio.com';

    function GeyserSite() {
      var f, parser,
        _this = this;
      parser = new MhtmlParser();
      f = new Firebase("" + this.firebaseRef + "/users/fred/captures/");
      f.once('value', function(snapshot) {
        var i, key, val, _ref, _results;
        if (snapshot.val() != null) {
          i = 0;
          _ref = snapshot.val();
          _results = [];
          for (key in _ref) {
            val = _ref[key];
            if (!(i > 0)) {
              $('#main').html(parser.parse(val.file));
            }
            _results.push(i++);
          }
          return _results;
        } else {
          return console.log('#fail');
        }
      });
      this.reader = new FileReader();
    }

    return GeyserSite;

  })();

  new GeyserSite;

}).call(this);
